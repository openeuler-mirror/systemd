From 339bf2076b3294e5f7b59e84c59ba8c55ded3c25 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Zbigniew=20J=C4=99drzejewski-Szmek?= <zbyszek@in.waw.pl>
Date: Fri, 15 Nov 2019 11:59:34 +0100
Subject: [PATCH] man: share description of $SYSTEMD_COLORS in other tools

It was only described in systemd(1), making it hard to discover.
Fixes #13561.

The same for $SYSTEMD_URLIFY.

I think all the tools whose man pages include less-variables.xml support
those variables.
---
 man/less-variables.xml | 20 +++++++++++++++++++-
 man/systemd.xml        | 19 ++-----------------
 2 files changed, 21 insertions(+), 18 deletions(-)

diff --git a/man/less-variables.xml b/man/less-variables.xml
index 38cb18be2e..8a701277b6 100644
--- a/man/less-variables.xml
+++ b/man/less-variables.xml
@@ -64,5 +64,23 @@
       the invoking terminal is determined to be UTF-8 compatible).</para></listitem>
     </varlistentry>
 
-    </variablelist>
+    <varlistentry id='colors'>
+      <term><varname>$SYSTEMD_COLORS</varname></term>
+
+      <listitem><para>The value must be a boolean. Controls whether colorized output should be
+      generated. This can be specified to override the decision that <command>systemd</command> makes based
+      on <varname>$TERM</varname> and what the console is connected to.</para>
+      </listitem>
+    </varlistentry>
+
+    <varlistentry id='urlify'>
+      <term><varname>$SYSTEMD_URLIFY</varname></term>
+
+      <listitem><para>The value must be a boolean. Controls whether clickable links should be generated in
+      the output for terminal emulators supporting this. This can be specified to override the decision that
+      <command>systemd</command> makes based on <varname>$TERM</varname> and other conditions.</para>
+      </listitem>
+    </varlistentry>
+
+  </variablelist>
 </refsect1>
diff --git a/man/systemd.xml b/man/systemd.xml
index 957d37dcd9..5caf54b330 100644
--- a/man/systemd.xml
+++ b/man/systemd.xml
@@ -870,23 +870,8 @@
         script runlevel link farms.</para></listitem>
       </varlistentry>
 
-      <varlistentry>
-        <term><varname>$SYSTEMD_COLORS</varname></term>
-
-        <listitem><para>The value must be a boolean. Controls whether colorized output should be
-        generated. This can be specified to override the decision that <command>systemd</command>
-        makes based on <varname>$TERM</varname> and what the console is connected to.</para>
-        </listitem>
-      </varlistentry>
-
-      <varlistentry>
-        <term><varname>$SYSTEMD_URLIFY</varname></term>
-
-        <listitem><para>The value must be a boolean. Controls whether clickable links should be generated in the output
-        for terminal emulators supporting this. This can be specified to override the decision that
-        <command>systemd</command> makes based on <varname>$TERM</varname> and other conditions.</para>
-        </listitem>
-      </varlistentry>
+      <xi:include href="less-variables.xml" xpointer="colors" />
+      <xi:include href="less-variables.xml" xpointer="urlify" />
 
       <varlistentry>
         <term><varname>$LISTEN_PID</varname></term>
-- 
2.33.0

